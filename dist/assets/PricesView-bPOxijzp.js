import{_ as C,u as e,a as d,c as p,f as t,t as c,d as h,e as w,s as A,p as T,g as V,x as B,r,V as f,S as D,z as N,o as z,A as E,b as k,w as g,E as j}from"./index-u-RSwE93.js";import{a as F}from"./axios-L6U4YIEh.js";import{u as R}from"./SubscribePlan-q3SUWY-m.js";const m=i=>(T("data-v-17c8500b"),i=i(),V(),i),M={key:0,class:"col-lg-4"},q={class:"card mb-5 mb-lg-0"},G={class:"card-body"},H={class:"card-title text-muted text-uppercase text-center"},J={class:"card-price text-center"},K=m(()=>t("span",{class:"period"},"/الشهر",-1)),L=m(()=>t("hr",null,null,-1)),O={class:"fa-ul"},Q=m(()=>t("span",{class:"fa-li"},[t("i",{class:"fas fa-check"})],-1)),U={key:0},W=m(()=>t("span",{class:"fa-li"},[t("i",{class:"fas fa-check"})],-1)),X={key:1},Y=m(()=>t("span",{class:"fa-li"},[t("i",{class:"fas fa-check"})],-1)),Z={class:"d-grid"},ee={__name:"ThePrices",props:["plan","name"],setup(i){let a=i;return(s,o)=>e(a).plan?(d(),p("div",M,[t("div",q,[t("div",G,[t("h5",H,c(e(a).name),1),t("h6",J,[h(" SAR "+c(e(a).plan.monthly_price),1),K]),L,t("ul",O,[t("li",null,[Q,h(" عدد الكلمات: "+c(e(a).plan.words_limit),1)]),e(a).plan.audio_limit?(d(),p("li",U,[W,h(" الدردشة الصوتية :"+c(e(a).plan.audio_limit)+" تسجيل ",1)])):w("",!0),e(a).plan.image_media_limit?(d(),p("li",X,[Y,h(" عدد الصور :"+c(e(a).plan.image_media_limit),1)])):w("",!0)]),t("div",Z,[A(s.$slots,"default",{},void 0,!0)])])])])):w("",!0)}},x=C(ee,[["__scopeId","data-v-17c8500b"]]),se=B("fetchPlans",()=>{let i=r(""),a=r(""),s=r("");return{basicPlan:i,premiumPlan:a,enterprisePlan:s,fetchPlanData:()=>{let _=f.get("jwt");F.get("https://impactstudio.pythonanywhere.com/api/user/get_plans/",{withCredentials:!0,headers:{Authorization:`Bearer ${_}`}}).then(n=>{i.value=n.data[0],a.value=n.data[1],s.value=n.data[2]}).catch(n=>{D.fire({icon:"error",title:"خطأ",text:"حدث خطأ أثناء الحصول على الخطط."}),l})}}}),te=i=>(T("data-v-8dbf0d67"),i=i(),V(),i),ae={class:"pricing py-5"},ie={class:"container"},ne={key:0,class:"row"},ce=["disabled"],le=["disabled"],re=["disabled"],oe={key:1,class:"d-flex justify-content-center"},ue=te(()=>t("div",{class:"loader"},null,-1)),de=[ue],pe={__name:"PricesView",setup(i){const a=se(),s=R();f.get("jwt");const o=N();let _=r(""),n=r(""),P=r(""),b=r(!1),y=()=>{s.active||s.subscribePlan==="enterprise"||s.subscribePlan==="premium"?b.value=!0:b.value=!1};function I(){f.get("jwt")?s.subscribeFree():o.push("/login"),y(),o.push("/chat")}y();function $(v,u){f.get("jwt")?s.subscribe(v,u):o.push("/login")}return z(()=>{s.getSubscribe(),a.fetchPlanData()}),E(()=>{_.value=a.basicPlan,n.value=a.premiumPlan,P.value=a.enterprisePlan,b.value=s.active}),setInterval(()=>{o.path==="/prices"&&(window.onfocus=function(){s.getSubscribe()})},500),(v,u)=>(d(),p("section",ae,[t("div",ie,[e(_)&&e(n)&&e(P)?(d(),p("div",ne,[k(x,{plan:e(_),name:"الخطة المجانية"},{default:g(()=>[t("button",{onClick:I,disabled:e(s).subscribePlan==="basic"&&e(b)||e(s).subscribePlan==="premium"||e(s).subscribePlan==="enterprise",class:"btn btn-primary text-uppercase"}," سجل مجانا ",8,ce)]),_:1},8,["plan"]),k(x,{plan:e(n),name:"الخطة الأساسية "},{default:g(()=>[t("button",{disabled:e(s).subscribePlan==="premium"||e(s).subscribePlan==="enterprise",onClick:u[0]||(u[0]=S=>$("premium","m")),class:j(["btn btn-primary text-uppercase",{"btn-success":e(s).subscribePlan==="premium"}])},c(e(s).subscribePlan==="premium"?"مشترك":"اشترك"),11,le)]),_:1},8,["plan"]),k(x,{plan:e(P),name:"الخطة الاحترافية"},{default:g(()=>[t("button",{disabled:e(s).subscribePlan==="enterprise"||e(s).subscribePlan==="premium",onClick:u[1]||(u[1]=S=>$("enterprise","m")),class:j(["btn btn-primary text-uppercase",{"btn-success":e(s).subscribePlan==="enterprise"}])},c(e(s).subscribePlan==="enterprise"?"مشترك":"اشترك"),11,re)]),_:1},8,["plan"])])):(d(),p("div",oe,de))])]))}},he=C(pe,[["__scopeId","data-v-8dbf0d67"]]);export{he as default};
