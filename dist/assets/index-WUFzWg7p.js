import{aj as U,ak as I,al as X,r as O,o as H,am as q,ae as Y,an as Z,ao as ee,u as te,ap as B,a2 as R,aq as M,ar as ne,A as re}from"./index-u-RSwE93.js";function V(e){return Z()?(ee(e),!0):!1}function oe(){const e=new Set,t=n=>{e.delete(n)};return{on:n=>{e.add(n);const o=()=>t(n);return V(o),{off:o}},off:t,trigger:(...n)=>Promise.all(Array.from(e).map(o=>o(...n)))}}function _(e){return typeof e=="function"?e():te(e)}const z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ie=e=>ae.call(e)==="[object Object]",T=()=>{},se=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ue=le();function le(){var e,t;return z&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ce(e,t){function r(...a){return new Promise((n,o)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(n).catch(o)})}return r}const G=e=>e();function fe(e=G){const t=O(!0);function r(){t.value=!1}function a(){t.value=!0}const n=(...o)=>{t.value&&e(...o)};return{isActive:I(t),pause:r,resume:a,eventFilter:n}}function de(e){return e||B()}function pe(...e){if(e.length!==1)return U(...e);const t=e[0];return typeof t=="function"?I(X(()=>({get:t,set:T}))):O(t)}function me(e,t,r={}){const{eventFilter:a=G,...n}=r;return R(e,ce(a,t),n)}function ge(e,t,r={}){const{eventFilter:a,...n}=r,{eventFilter:o,pause:d,resume:u,isActive:l}=fe(a);return{stop:me(e,t,{...n,eventFilter:o}),pause:d,resume:u,isActive:l}}function K(e,t=!0,r){de()?H(e,r):t?e():q(e)}function Me(e=!1,t={}){const{truthyValue:r=!0,falsyValue:a=!1}=t,n=Y(e),o=O(e);function d(u){if(arguments.length)return o.value=u,o.value;{const l=_(r);return o.value=o.value===l?_(a):l,o.value}}return n?d:[o,d]}function L(e){var t;const r=_(e);return(t=r==null?void 0:r.$el)!=null?t:r}const k=z?window:void 0,he=z?window.document:void 0;function F(...e){let t,r,a,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,n]=e,t=k):[t,r,a,n]=e,!t)return T;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const o=[],d=()=>{o.forEach(v=>v()),o.length=0},u=(v,g,s,c)=>(v.addEventListener(g,s,c),()=>v.removeEventListener(g,s,c)),l=R(()=>[L(t),_(n)],([v,g])=>{if(d(),!v)return;const s=ie(g)?{...g}:g;o.push(...r.flatMap(c=>a.map(p=>u(v,c,p,s))))},{immediate:!0,flush:"post"}),f=()=>{l(),d()};return V(f),f}let J=!1;function _e(e,t,r={}){const{window:a=k,ignore:n=[],capture:o=!0,detectIframe:d=!1}=r;if(!a)return T;ue&&!J&&(J=!0,Array.from(a.document.body.children).forEach(s=>s.addEventListener("click",T)),a.document.documentElement.addEventListener("click",T));let u=!0;const l=s=>n.some(c=>{if(typeof c=="string")return Array.from(a.document.querySelectorAll(c)).some(p=>p===s.target||s.composedPath().includes(p));{const p=L(c);return p&&(s.target===p||s.composedPath().includes(p))}}),v=[F(a,"click",s=>{const c=L(e);if(!(!c||c===s.target||s.composedPath().includes(c))){if(s.detail===0&&(u=!l(s)),!u){u=!0;return}t(s)}},{passive:!0,capture:o}),F(a,"pointerdown",s=>{const c=L(e);u=!l(s)&&!!(c&&!s.composedPath().includes(c))},{passive:!0}),d&&F(a,"blur",s=>{setTimeout(()=>{var c;const p=L(e);((c=a.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(p!=null&&p.contains(a.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>v.forEach(s=>s())}function ve(){const e=O(!1);return B()&&H(()=>{e.value=!0}),e}function we(e){const t=ve();return M(()=>(t.value,!!e()))}function ye(e,t={}){const{window:r=k}=t,a=we(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let n;const o=O(!1),d=f=>{o.value=f.matches},u=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",d):n.removeListener(d))},l=re(()=>{a.value&&(u(),n=r.matchMedia(_(e)),"addEventListener"in n?n.addEventListener("change",d):n.addListener(d),o.value=n.matches)});return V(()=>{l(),u(),n=void 0}),o}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",Se=be();function be(){return W in j||(j[W]=j[W]||{}),j[W]}function Q(e,t){return Se[e]||t}function Ae(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ee={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},x="vueuse-storage";function ke(e,t,r,a={}){var n;const{flush:o="pre",deep:d=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,mergeDefaults:f=!1,shallow:v,window:g=k,eventFilter:s,onError:c=i=>{console.error(i)},initOnMounted:p}=a,w=(v?ne:O)(typeof t=="function"?t():t);if(!r)try{r=Q("getDefaultStorage",()=>{var i;return(i=k)==null?void 0:i.localStorage})()}catch(i){c(i)}if(!r)return w;const S=_(t),D=Ae(S),b=(n=a.serializer)!=null?n:Ee[D],{pause:N,resume:h}=ge(w,()=>A(w.value),{flush:o,deep:d,eventFilter:s});return g&&u&&K(()=>{F(g,"storage",y),F(g,x,C),p&&y()}),p||y(),w;function A(i){try{if(i==null)r.removeItem(e);else{const m=b.write(i),E=r.getItem(e);E!==m&&(r.setItem(e,m),g&&g.dispatchEvent(new CustomEvent(x,{detail:{key:e,oldValue:E,newValue:m,storageArea:r}})))}}catch(m){c(m)}}function P(i){const m=i?i.newValue:r.getItem(e);if(m==null)return l&&S!=null&&r.setItem(e,b.write(S)),S;if(!i&&f){const E=b.read(m);return typeof f=="function"?f(E,S):D==="object"&&!Array.isArray(E)?{...S,...E}:E}else return typeof m!="string"?m:b.read(m)}function C(i){y(i.detail)}function y(i){if(!(i&&i.storageArea!==r)){if(i&&i.key==null){w.value=S;return}if(!(i&&i.key!==e)){N();try{(i==null?void 0:i.newValue)!==b.write(w.value)&&(w.value=P(i))}catch(m){c(m)}finally{i?q(h):h()}}}}}function $(e){return ye("(prefers-color-scheme: dark)",e)}function Oe(e={}){const{selector:t="html",attribute:r="class",initialValue:a="auto",window:n=k,storage:o,storageKey:d="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:l,emitAuto:f,disableTransition:v=!0}=e,g={auto:"",light:"light",dark:"dark",...e.modes||{}},s=$({window:n}),c=M(()=>s.value?"dark":"light"),p=l||(d==null?pe(a):ke(d,a,o,{window:n,listenToStorageChanges:u})),w=M(()=>p.value==="auto"?c.value:p.value),S=Q("updateHTMLAttrs",(h,A,P)=>{const C=typeof h=="string"?n==null?void 0:n.document.querySelector(h):L(h);if(!C)return;let y;if(v&&(y=n.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n.document.head.appendChild(y)),A==="class"){const i=P.split(/\s/g);Object.values(g).flatMap(m=>(m||"").split(/\s/g)).filter(Boolean).forEach(m=>{i.includes(m)?C.classList.add(m):C.classList.remove(m)})}else C.setAttribute(A,P);v&&(n.getComputedStyle(y).opacity,document.head.removeChild(y))});function D(h){var A;S(t,r,(A=g[h])!=null?A:h)}function b(h){e.onChanged?e.onChanged(h,D):D(h)}R(w,b,{flush:"post",immediate:!0}),K(()=>b(w.value));const N=M({get(){return f?p.value:w.value},set(h){p.value=h}});try{return Object.assign(N,{store:p,system:c,state:w})}catch{return N}}function De(e={}){const{valueDark:t="dark",valueLight:r="",window:a=k}=e,n=Oe({...e,onChanged:(u,l)=>{var f;e.onChanged?(f=e.onChanged)==null||f.call(e,u==="dark",l,u):l(u)},modes:{dark:t,light:r}}),o=M(()=>n.system?n.system.value:$({window:a}).value?"dark":"light");return M({get(){return n.value==="dark"},set(u){const l=u?"dark":"light";o.value===l?n.value="auto":n.value=l}})}const Ce={multiple:!0,accept:"*",reset:!1,directory:!1};function Te(e={}){const{document:t=he}=e,r=O(null),{on:a,trigger:n}=oe();let o;t&&(o=t.createElement("input"),o.type="file",o.onchange=l=>{const f=l.target;r.value=f.files,n(r.value)});const d=()=>{r.value=null,o&&(o.value="",n(null))},u=l=>{if(!o)return;const f={...Ce,...e,...l};o.multiple=f.multiple,o.accept=f.accept,o.webkitdirectory=f.directory,se(f,"capture")&&(o.capture=f.capture),f.reset&&d(),o.click()};return{files:I(r),open:u,reset:d,onChange:a}}export{De as a,Me as b,_e as o,Te as u};
